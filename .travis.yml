# Licensed to ObjectStyle LLC under one or more
# contributor license agreements. See the NOTICE file distributed with
# this work for additional information regarding copyright ownership.
# The ObjectStyle LLC licenses this file to You under the Apache License, Version 2.0
# (the "License"); you may not use this file except in compliance with
# the License. You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

language: java

jdk:
  - openjdk8
  - oraclejdk11
  - openjdk-ea

script:
  - mvn clean verify

jobs:
  include:
    - stage: deploy
      jdk: openjdk8
      script: mvn clean source:jar javadoc:javadoc deploy -DskipTests --settings travis_settings.xml
      if: branch IN (master, 1.0-STABLE) AND type IN (push) AND repo = bootique/bootique-aws

# travis encrypt -r bootique/bootique-aws "CI_DEPLOY_USERNAME='name'"
# travis encrypt -r bootique/bootique-aws "CI_DEPLOY_PASSWORD='password'"
env:
  global:
    - secure: "LC5LDBRQdhVbCm/l725lw2GmDIMJKJ6j+vFDuR12qqalGb/wAOq/kSmDHY89Wpg6FcoZuaPRsXNPu6IUlxojBRY/0j5po5aQ2m5xYEbDD9xEbRIdaBN6LOq06Ts9jKlp98AHHPKsp9jwYU1+7cHPgPYjmVFJbV9TeFJOVgtf5R4ZH1eGP1kTmcCDGUjMBWddA5hlkyQk31SbHTnZdwRxQSzJw0QSJEq5qWg96kVbtCJ71ORN4MmvyfkBWnG3dgKuDcYQOrrWRKgZxdyg73FccwDFXqQYR8DsmZqPCcsjwQmTrhNEgiAgAB+KjSxOGcVWPnB265uv6EQSFT9qJTMtIckXVFnIIUvW0zSy7yR4exNLa/tCrozHsvb6ZlWVh3WxoCeM5+2xQ+Br5+ad4xzO4KJmaUgAi9PdFI+WP3H5lDB+7FjQpo56xuNuaGGbI6UNRV1RwkZdjttmU1NfAf/+J2oAiDiJs7RSXJ/ncHZYa7BHQkPcQggGPKKev63kqEcGMBQNMNBBjeJeXm6wAAzPOzxI77aPiaEMOCQGln2P8IE783MyV3NDIZzcIBgK/pD4KJ7ltYQsuHeCDK6mPljXn9f1YN6hIyBNEUxhU3bpqTVp5IlDe0K2j1ORabrw9nw048PfEJ0gJ6BoWWVEiDEI25V6vvuIMTXrQdB/8mGoQFU="
    - secure: "jScBf9154T09HcxSUjtUvO4TX7bXoyKtYwfdbZ6aaGSdgX5AQvj0OYTBq/xhf1hj4+G2cAG7rKRWN4DIJ3rrxWjBaExkex0e9f6ae4UFHpThRN+s33IgbcJqN+cMNGEldloRkHCdRvC1syjLYsNmZWCos2+fRgv5XZjBQKOAUZx/03SE6x2LTGWM48/yaL5E1hswSsGzuI81IuVmHLYOV4MzghNhyURbkKQBwl7y7me5zB9RImEKYU/DrXBKtmK+VQdfWMAFyEUJdz2PcNTPzLAhOYwYQGliFAOQTWnCidlwrmPl3Y6fT9ImrQTiubzwCa2eV92FfOyV8GubcztHI8rKS0AroRzdRNF2Pvr5jyBx166Afj9+WnjenK8zC1xw5kzDXFoAqn0YwxQexjUZUfNLRr3Ih592VED5FT161gz2hLJhm7LPa89PI5iMbVqo1WLjuNOZUnjd8AGQtUv+DwEzg9rre4xwzZ5nLyXAHd9tnBHVE+UJvJ9kGmRCohVOqAuItHN0m3ndVxP7MFB6t96bn63n+x662h5AGxljySvzaSvCWh+eOk1hC6mFdWqS/ep+vzLBeb+xDSMLV2aZ9oEWkwQQ8rptvWddL/k2GvayJAa/th4wOlrITJHVcL1MA5AUp/8kdhH9LcCmX/ge7xO3UTIjEeQ/k0CL6HfTVKU="
